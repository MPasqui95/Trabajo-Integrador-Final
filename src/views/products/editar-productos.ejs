<!DOCTYPE html>
<html lang="en">
  <!-- ======== HEAD =================== -->
  <%- include('../partials/head.ejs') %>

  <body>
    <!-- ===== HEADER  ================= -->

    <%- include('../partials/header.ejs') %>

    <!-- ===== PRODUCTS EDIT  ================= -->

    <div class="rg-rg-register-form-container cp-editar-form-contenedor">
      <h3 class="rg-register-label">Editar producto</h3>
      <div class="rg-register-form cp-editarProducto">
        <form
          action="/product/editar-productos/<%= producto.id %>?_method=PUT"
          method="POST"
          name="rg-register-form"
          class="rg-register-form cp-editarProducto"
          enctype="multipart/form-data"
        >

        

          <div class="cp-detallesProducto">
            <h3 class="cp-tituloSeccion">Marca</h3>
            <label for="brand"></label>
          <select name="brand" class="rg-form-input-text">

            <% for( let i = 0; i < categories.length; i++ ) { %>
              <% if (categories[i].id == producto.categoriesBrands_id) { %>
               <option value="<%= categories[i].id %> " selected>
                <%= categories[i].name %> 
              <% } else { %>
                <option value="<%= categories[i].id %>">
                  <%= categories[i].name %> 
            </option>
            
            <% } %>

            <% } %>

           </select>

           <div class="cp-editarImagen">
            <label for="imagenProducto" class="cp-tituloSeccion"
              >Imagen del producto</label
            >
            <img
              class="cp-subirImagen"
              src="/images/productos/<%= producto.image %>"
              alt=""
            />
            
            <input
              id="imagenProducto"
              type="file"
              name="images"
              accept="jpg, png, jpeg"
              class="rg-form-input-text subirArchivo"
              value="<%= producto.image %>"
              multiple
            />
          </div>

            <h3 class="cp-tituloSeccion">Nombre</h3>
            <input
              type="text"
              value="<%= producto.name %>"
              name="name"
              class="rg-form-input-text"
            />
            <h3 class="cp-tituloSeccion">Precio de Oferta</h3>
            <input
              type="number"
              value="<%= producto.offerPrice %>"
              name="offerPrice"
              class="rg-form-input-text"
            />
            <h3 class="cp-tituloSeccion">Precio Regular</h3>
            <input
              type="number"
              value="<%= producto.regularPrice %>"
              name="regularPrice"
              class="rg-form-input-text"
            />
            <h3 class="cp-tituloSeccion">Descuento</h3>
            <input
              type="number"
              value="<%= producto.discount %>"
              name="discount"
              class="rg-form-input-text"
            />

            <h3 class="cp-tituloSeccion">Colores</h3>
            <div class="cp-chekboxColores">
              <label for="colores">
                <select name="colores">
                 <% for( let i = 0; i < colors.length; i++ ) { %>

                  <% if (colors[i].id == producto.categoriesColors_id) { %>
                    <option value="<%= colors[i].id %>" selected>
                      <%= colors[i].name %> 
                  </option>
                  <% } else { %>

                   <option value="<%= colors[i].id %> ">
                       <%= colors[i].name %> 
                   </option>
                   <% } %>
                   <% } %>
                </select> 
            </div>

            <label
              for="especificaciones"
              class="cp-tituloSeccion"
              value="specifications"
            >
              Especificaciones:</label
            ><textarea
              name="specifications"
              id="especificaciones"
              class="cp-textAreaInput">
              <%= producto.specifications %></textarea
            >

            <label for="descripcion" class="cp-tituloSeccion">
              Descripci√≥n:</label
            ><textarea
              name="descripcion"
              id="descripcion"
              class="cp-textAreaInput">
              <%= producto.specification %></textarea
            >
            <h3 class="cp-tituloSeccion">Stock</h3>
            <input
              type="number"
              value="<%= producto.stock %>"
              name="stock"
              class="rg-form-input-text"
            />

            <h3 class="cp-tituloSeccion">Categorias</h3>
            <div class="cp-contenedorSelectorCategoria">
              <select name="category" id="" class="cp-selectorCategoria">
                <% for( let i = 0; i < categoryProduct.length; i++ ) { %>
                  <% if (categoryProduct[i].id == producto.categoriesProductos_id) { %>

                    <option value="<%= categoryProduct[i].id %>" selected>
                      <%= categoryProduct[i].name %> 
                  </option>

                  <% } else { %>
                  <option value="<%= categoryProduct[i].id %> ">
                      <%= categoryProduct[i].name %> 
                  </option>
                  <% } %>
                  <% } %>

              </select>
            </div>
            <br />
            <br />
            <button type="submit" class="rg-register-form-button ">
              Editar
            </button>

            <a href="/" class="rg-register-form-button rg-cancelar-button">Cancelar</a>
          </div>
        </form>

        <form
          action="/product/editar-productos/<%= producto.id %>?_method=DELETE"
          method="POST"
          class="rg-register-form cp-editarProducto cp-delete-form"
          enctype="multipart/form-data"
        >
          <button type="submit" class="rg-register-form-button cp-delete-button">Borrar</button>
        </form>
      </div>

      <!-- ==== DELETE BUTTON ==== -->
    </div>

   <!-- ======= FOOTER  ====== -->
    <%- include('../partials/footer.ejs') %>
  </body>
</html>
